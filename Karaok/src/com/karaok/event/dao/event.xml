<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd" >
<sqlMap namespace="event">
	<insert id="insert" parameterClass="com.karaok.event.dto.Event">
		insert into tb_event values(seq_event_num.nextval,#id#,#point#,#subject#,#contents#,#startDate#,#endDate#,#fileName#,#state#)
	</insert>
	
	<select id="select" resultClass="com.karaok.event.dto.Event">
		select num,id,subject,point,contents,fileName,startDate,endDate,state 
			from tb_event natural join tb_member
			order by num desc
	</select>
	
	<select id="selectIng"   resultClass="com.karaok.event.dto.Event">
		select num,id,subject,point,contents,fileName,startDate,endDate,state 
			from tb_event natural join tb_member
			where endDate > sysdate
			order by num desc
	</select>
	
	<select id="selectEnd"   resultClass="com.karaok.event.dto.Event">
	
	<![CDATA[select num,id,subject,point,contents,fileName,startDate,endDate,state 
			from tb_event natural join tb_member
			where endDate < sysdate
			order by num desc]]> 
	</select>
	
	<select id="selectConfirm" parameterClass="int" resultClass="com.karaok.event.dto.Event">
		select id,point,subject,contents,startDate,endDate,fileName from tb_event where num=#num#
	</select>

	
	
	
</sqlMap>
